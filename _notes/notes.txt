=== Developer notes ===

== NOTE: duplicate hero types ==
Training maps which contain duplicate hero types ("core:sylvia") are not
properly (de-)serialized -- only the hero type ID is serialized.

Since gs->allheroes keeps a single record per hero type (a total of 165),
this ID corresponds to the first hero of this type.
The client deserializes it and, as a result, client side's battle info
contains the wrong CGHeroInstance objects. This is not critical (for now) as
some client-side checks like "can cast spell" throw warnings, but everything
ultimately works OK on the server side.

The good new is, CGArmyInstance objects are properly deserialized and
are essentially _the same_ object as the CGHeroInstance object (in the case
of hero-vs-hero battle), meaning they can be (ab)used for inferring the correct
heroes participating in the battle on the client side.
